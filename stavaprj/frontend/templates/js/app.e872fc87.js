(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={app:0},o=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/static/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"0540":function(t,e,a){},"388e":function(t,e,a){"use strict";a("81e9")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("a026"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Landing")],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main-wrapper"}},[a("UniModal"),a("div",{attrs:{id:"header"}},[a("div",{staticClass:"logo"},[a("img",{staticClass:"header-logo-img",attrs:{src:t.$publicPath+"logo_sm-1.png"}})])]),a("div",{attrs:{id:"main-section"}},[a("div",{attrs:{id:"left-pane"}},[a("div",[t._v("Total Distance: "+t._s(t.total_distance)+" [m]")]),a("div",[t._v("Time calculated: "+t._s(t.time_calculated)+" [s]")]),a("div",{attrs:{id:"mapid"}}),a("div",{staticClass:"footer-btn"},[a("b-form-input",{attrs:{"aria-label":"REQUEST_ID",placeholder:"REQUEST_ID"},model:{value:t.REQUEST_ID,callback:function(e){t.REQUEST_ID=e},expression:"REQUEST_ID"}}),a("b-button",{attrs:{disabled:!(this.$store.state.markers.length>0),variant:"danger"},on:{click:t.submitPoints}},[t._v("Calculate distance")])],1)]),a("div",{attrs:{id:"right-pane"}},[a("CoordinateInput",{on:{pointsChanged:t.setMarkers,centerChanged:t.setCenter}})],1)])],1)},r=[],l=(a("159b"),a("99af"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"coordinate-input"}},[a("div",[t._v(" List of the points to be calculated "),a("b-list-group",{staticClass:"list"},t._l(this.$store.state.markers,(function(e,i){return a("b-list-group-item",{key:e[0],staticClass:"d-flex justify-content-start align-items-center",attrs:{button:""},on:{click:function(a){return t.changePointOfView(e)}}},[a("div",{staticClass:"index"},[t._v(t._s(i+1)+")")]),a("b-badge",{attrs:{variant:"primary",pill:""}},[t._v(" "+t._s(e[0]))]),a("b-badge",{attrs:{variant:"primary",pill:""}},[t._v(" "+t._s(e[1]))]),a("div",{staticClass:"clickable",on:{click:function(a){return t.activateModal(e)}}},[a("i",{staticClass:"fas fa-trash-alt"})])],1)})),1)],1),a("div",[t._v(" Provide your longitude and latitude points: "),a("div",[a("b-input-group",{staticClass:"mb-2"},[a("b-form-input",{attrs:{"aria-label":"Longtitude",placeholder:"Longtitude"},model:{value:t.longtitude,callback:function(e){t.longtitude=e},expression:"longtitude"}}),a("b-form-input",{attrs:{"aria-label":"Latitude",placeholder:"Latitude"},model:{value:t.latitude,callback:function(e){t.latitude=e},expression:"latitude"}}),a("b-input-group-append",[a("b-button",{attrs:{size:"sm",text:"Button",variant:"success"},on:{click:t.addPoint}},[t._v("+")])],1)],1)],1)])])}),c=[],u=(a("4de4"),{data:function(){return{longtitude:void 0,latitude:void 0}},methods:{addPoint:function(){var t=this.$store.state.markers;t.length>=50?alert("Max number of points (50) is reached"):(t.push([this.longtitude,this.latitude]),this.$store.commit("set",["markers",t]),this.$emit("pointsChanged"))},changePointOfView:function(t){this.$store.commit("set",["center",t]),this.$emit("centerChanged")},activateModal:function(t){var e=this;this.$store.commit("modal",[!0,"",{remove:function(){var a=e.$store.state.markers.filter((function(e){if(t!==e)return e}));e.$store.commit("set",["markers",a]),e.$store.commit("modal",[!1,"",{}]),e.$emit("pointsChanged")}}])}}}),d=u,p=(a("a267"),a("2877")),f=Object(p["a"])(d,l,c,!1,null,null,null),m=f.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.$store.state.modal_active?a("div",{attrs:{id:"modal-wrap"}},[a("div",{attrs:{id:"modal-window"}},[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:"Remove point?"}},[a("div",{staticClass:"modal-btns"},[a("b-button",{attrs:{href:"#",variant:"primary"},on:{click:t.hideModal}},[t._v("Close")]),t._l(this.$store.state.modal_callbacks,(function(e,i){return a("b-button",{key:i,staticClass:"button small",attrs:{variant:"danger"},on:{click:e}},[t._v(" "+t._s(i)+" ")])}))],2)])],1)]):t._e()},v=[],b={methods:{hideModal:function(){this.$store.commit("modal",[!1,"",{}])}}},g=b,_=(a("c504"),Object(p["a"])(g,h,v,!1,null,null,null)),y=_.exports,k=a("e11e"),w=a.n(k),x=a("bc3a"),C=a.n(x),M={components:{CoordinateInput:m,UniModal:y},data:function(){return{mainMap:void 0,REQUEST_ID:void 0,total_distance:void 0,time_calculated:void 0}},methods:{getValidPoints:function(){var t=this.$store.state.markers,e=[];t.forEach((function(t){e.push("".concat(t[0],",").concat(t[1]))}));var a=[],i=[];return e.forEach((function(t){i.length<2?i.push(t):(a.push(i),i=[])})),a.push(i),i=[],JSON.stringify(a)},submitPoints:function(){var t=this;this.getValidPoints();var e={"Content-Type":"application/json"},a={headers:e};C.a.post("//".concat("localhost:8000","/api/mapper"),{distance:this.getValidPoints(),REQUEST_ID:this.REQUEST_ID},a).then((function(e){console.log(e,e.data["Execution Time"]),t.total_distance=e.data.Distance,t.time_calculated=e.data["Execution Time"]})).catch((function(t){console.log(t),alert(t),alert(JSON.stringify(t.response.data))}))},setCenter:function(){this.mainMap.setView(this.$store.state.center,13)},setMarkers:function(){var t=this;this.$store.state.markers.forEach((function(e){w.a.circle(e,{color:"red",fillColor:"#f03",fillOpacity:.5,radius:500}).addTo(t.mainMap)}))},setupLeafletMap:function(){this.mainMap=w.a.map("mapid").setView([51.505,-.09],13),w.a.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoibWlzaGFwYWsiLCJhIjoiY2tsdmdlZDUwMGU4ajJ2bXdndjU2ZHR1MSJ9.X2dJapVN4pJQ0NslIxvb9g"}).addTo(this.mainMap),this.setMarkers(),this.setCenter()}},mounted:function(){this.setupLeafletMap()}},E=M,O=(a("388e"),Object(p["a"])(E,s,r,!1,null,null,null)),$=O.exports,j={name:"App",components:{Landing:$}},S=j,T=(a("034f"),Object(p["a"])(S,n,o,!1,null,null,null)),P=T.exports,I=a("5f5b"),U=a("b1e0"),D=a("3835"),J=a("2f62");i["default"].use(J["a"]);var L={modal_active:!1,modal_message:"",modal_callbacks:{},markers:[["-84.754482","18.11"],["50.2","18.3"]],center:["50.2","18.3"]},Q={set:function(t,e){var a=Object(D["a"])(e,2),i=a[0],n=a[1];t[i]=n},modal:function(t,e){var a=Object(D["a"])(e,3),i=a[0],n=a[1],o=a[2];t.modal_active=i,t.modal_message=n,t.modal_callbacks=o}},R=new J["a"].Store({state:L,mutations:Q}),V=(a("15f5"),a("7051"),a("f9e3"),a("2dd8"),a("2699")),z=a("a40a"),A=a("4e2b"),N=(a("6cc5"),a("755e"));i["default"].component("l-map",V["a"]),i["default"].component("l-tile-layer",z["a"]),i["default"].component("l-marker",A["a"]),i["default"].use(I["a"]),i["default"].use(U["a"]),i["default"].config.productionTip=!1,i["default"].prototype.$publicPath="/static/",i["default"].use(N,{load:{key:"AIzaSyA2bNhY3Qj1cIBGJfybxixBQqj226GX1Dc",libraries:"places"}}),new i["default"]({el:"#app",store:R,template:"<App/>",components:{App:P}})},"6fe9":function(t,e,a){},"81e9":function(t,e,a){},"85ec":function(t,e,a){},a267:function(t,e,a){"use strict";a("0540")},c504:function(t,e,a){"use strict";a("6fe9")}});
//# sourceMappingURL=app.e872fc87.js.map